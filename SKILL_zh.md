---
name: shipany-module-master
description: ShipAny 模板组件模块化提取与集成专用技能。当用户需要根据产品需求从 ShipAny 模板中选择性提取特定模块（着陆页、用户中心、管理后台、支付系统等）并集成到自己的项目中时使用此技能。
---

# ShipAny 模块使用大师

## 概述

使用此技能从 ShipAny 模板中提取特定模块并集成到自定义项目中。ShipAny 是一个基于 Next.js 的综合性 AI SaaS 开发框架，内置丰富模块。此技能帮助识别所需模块、分析依赖关系并指导提取过程。

## 何时使用此技能

在以下情况下使用此技能：
- 启动新项目，仅需要特定的 ShipAny 模块
- 向现有项目添加 ShipAny 功能
- 理解 ShipAny 的模块化架构
- 根据产品需求规划包含哪些模块
- 分析 ShipAny 模块之间的依赖关系

## 核心工作流程

### 步骤 1：需求分析

首先，理解项目需求：

1. **识别所需功能**
   - 产品需要哪些功能？
   - 哪些 ShipAny 模块提供这些功能？
   - 是否有特定限制（预算、时间、技术）？

2. **查阅模块概览**
   - 阅读 `references/modules-overview.md` 获取完整模块描述
   - 识别所需的主要模块
   - 记录可选的增强功能

### 步骤 2：依赖分析

确保提取的模块能正常工作，分析依赖关系：

1. **检查模块依赖**
   - 查看 `references/modules-overview.md` 中的依赖关系图
   - 识别所选模块的所有必需依赖
   - 记录增强功能的可选依赖

2. **使用依赖分析脚本**
   ```bash
   python3 scripts/analyze-dependencies.py --modules landing-page user-center
   ```

3. **验证完整性**
   - 确保包含所有必需依赖
   - 根据需求决定可选依赖

### 步骤 3：模块提取规划

创建提取计划：

1. **列出所有要提取的模块**
   - 主要模块（用户请求的）
   - 必需依赖
   - 可选增强

2. **识别文件位置**
   - 参考模块概览获取文件路径
   - 记录所需的配置文件
   - 列出所需的环境变量

3. **规划集成顺序**
   - 从基础模块开始（数据库、认证）
   - 逐步添加依赖模块
   - 最后添加 UI/功能模块

### 步骤 4：提取指导

指导提取过程：

1. **为每个模块提供：**
   - 要复制的确切文件/目录路径
   - 要修改的配置文件
   - 要设置的环境变量
   - 要安装的依赖（npm 包）

2. **配置调整：**
   - 根据需要更新导入路径
   - 为目标项目修改配置文件
   - 删除未使用的模块引用

3. **集成验证：**
   - 列出提取后要检查的文件
   - 提供验证功能的测试命令
   - 建议出现问题时的调试步骤

## 模块分类

### 核心系统模块
- **着陆页（Landing Page）**：营销/产品展示页面（最小依赖）
- **用户中心（User Center）**：用户资料和设置（需要认证 + 数据库）
- **管理后台（Admin Dashboard）**：后台管理（需要认证 + 权限控制 + 数据库）

### 核心基础设施模块
- **数据库（drizzle-orm）**：数据持久化（无依赖，大多数模块需要）
- **认证（better-auth）**：用户认证（需要数据库）
- **权限控制（RBAC）**：基于角色的访问控制（需要认证 + 数据库）
- **国际化（next-intl）**：多语言支持（无依赖）
- **主题（Themes）**：主题切换（无依赖）
- **文档系统（fumadocs）**：文档系统（可选国际化）
- **积分系统（Credits）**：用户积分系统（需要认证 + 数据库）

### 扩展模块
- **支付（Payment）**：Stripe/Creem/PayPal 集成（需要认证 + 数据库）
- **存储（Storage）**：R2/S3 文件上传（可选认证）
- **邮件（Email）**：Resend 邮件服务（无依赖）
- **AI**：AI 生成功能（可选积分 + 认证）
- **数据统计（Analytics）**：Google Analytics/Plausible 等（无依赖）
- **广告（Advertising）**：AdSense 集成（无依赖）
- **联盟营销（Affiliate）**：联盟营销（需要认证 + 数据库）
- **客服（Customer Service）**：Tawk/Crisp 聊天（无依赖）

## 常见提取场景

### 场景 1：简单着陆页
**所需模块：**
- 着陆页
- 国际化（可选）
- 主题（可选）

**提取步骤：**
1. 复制 `/app/(landing)/*` 目录
2. 从 `/styles/*` 和 `tailwind.config.ts` 复制主题配置
3. 如使用国际化，复制 i18n 消息文件
4. 如需要，更新 `next.config.js` 的 i18n 配置

### 场景 2：用户认证系统
**所需模块：**
- 数据库（drizzle-orm）
- 认证（better-auth）
- 用户中心
- 国际化
- 主题

**提取步骤：**
1. 设置数据库：复制 `/lib/db/*`、`drizzle.config.ts`
2. 设置认证：复制 `/lib/auth/*`、`/app/api/auth/*`
3. 复制用户中心：`/app/(user)/*`
4. 复制共享组件：`/components/user/*`
5. 配置数据库和认证的环境变量
6. 运行数据库迁移

### 场景 3：完整 SaaS 平台
**所需模块：**
- 数据库
- 认证
- 权限控制
- 用户中心
- 管理后台
- 积分系统
- 支付
- 邮件

**提取步骤：**
1. 基础：数据库 + 认证 + 权限控制
2. 用户功能：用户中心 + 积分系统
3. 支付集成：支付模块 + webhooks
4. 管理功能：管理后台
5. 通信：邮件模板
6. 配置所有环境变量
7. 设置支付提供商 webhooks

## 最佳实践

### 提取前
1. 阅读 `references/shipany-docs.md` 中的 ShipAny 文档
2. 查看 `references/modules-overview.md` 中的模块概览
3. 创建所需模块的检查清单
4. 验证目标项目兼容性（Next.js 版本等）

### 提取期间
1. 按依赖顺序提取模块（基础优先）
2. 复制完整的模块目录以保持结构
3. 系统地更新导入路径
4. 在添加下一个模块前测试每个模块

### 提取后
1. 删除未使用的 ShipAny 引用
2. 仅更新 package.json 中需要的依赖
3. 清理未使用的配置
4. 测试所有集成功能
5. 记录所做的任何自定义修改

## 资源

### references/
- **modules-overview.md**：完整的模块描述和依赖关系
- **shipany-docs.md**：ShipAny 官方文档
- **integration-guide.md**：模块集成最佳实践

### scripts/
- **analyze-dependencies.py**：自动依赖分析工具
- **fetch_docs.py**：文档获取工具
